<!doctype html><html lang=en><head><script defer src=https://unpkg.com/@tinybirdco/flock.js data-host=https://api.tinybird.co data-token=p.eyJ1IjogImMwMjJhMjg1LWJmY2YtNDc0OC1hYzczLTJhMDQ1Njk3NTI0YyIsICJpZCI6ICIzNjc3NjQ3Ny04MTE2LTRmYWQtYjcwMy1iZmM3YjMwZGJjMjMifQ.A0vHm-VWbXG6uBFZiwuspN_AyfSYNrdZE3IgwgWSt4g></script><meta charset=utf-8><meta name=generator content="Hugo 0.118.2"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Max Halford"><meta property="og:url" content="https://maxhalford.github.io/blog/recursive-polygons/"><link rel=canonical href=https://maxhalford.github.io/blog/recursive-polygons/><meta property="og:title" content="Recursive polygons with JavaScript"><meta property="og:description" content="I like modern art, I enjoy looking at the stuff that was made at the beginning of the 20th century and thinking how it is still shaping today&rsquo;s style. I&rsquo;m not an expert, it&rsquo;s just a hobby of mine. I especially like the Centre Pompidou in Paris, it&rsquo;s got loads of fascinating stuff. While I was going through the galleries it struck me that some of the paintings were very geometrical."><meta property="og:type" content="article"><meta property="og:url" content="https://maxhalford.github.io/blog/recursive-polygons/"><meta property="og:image" content="https://maxhalford.github.io/img/beach.jpg"><meta property="article:section" content="blog"><meta property="article:published_time" content="2016-03-25T00:00:00+00:00"><meta property="article:modified_time" content="2016-03-25T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://maxhalford.github.io/img/beach.jpg"><meta name=twitter:title content="Recursive polygons with JavaScript"><meta name=twitter:description content="I like modern art, I enjoy looking at the stuff that was made at the beginning of the 20th century and thinking how it is still shaping today&rsquo;s style. I&rsquo;m not an expert, it&rsquo;s just a hobby of mine. I especially like the Centre Pompidou in Paris, it&rsquo;s got loads of fascinating stuff. While I was going through the galleries it struck me that some of the paintings were very geometrical."><link rel=icon href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ¦”</text></svg>"><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/maxhalford.github.io\/"},"articleSection":"blog","name":"Recursive polygons with JavaScript","headline":"Recursive polygons with JavaScript","description":"I like modern art, I enjoy looking at the stuff that was made at the beginning of the 20th century and thinking how it is still shaping today\u0026rsquo;s style. I\u0026rsquo;m not an expert, it\u0026rsquo;s just a hobby of mine. I especially like the Centre Pompidou in Paris, it\u0026rsquo;s got loads of fascinating stuff. While I was going through the galleries it struck me that some of the paintings were very geometrical.","inLanguage":"en-US","author":"Max Halford","creator":"Max Halford","publisher":"Max Halford","accountablePerson":"Max Halford","copyrightHolder":"Max Halford","copyrightYear":"2016","datePublished":"2016-03-25 00:00:00 \u002b0000 UTC","dateModified":"2016-03-25 00:00:00 \u002b0000 UTC","url":"https:\/\/maxhalford.github.io\/blog\/recursive-polygons\/","keywords":["generative-art"]}</script><title>Recursive polygons with JavaScript â€¢ Max Halford</title><meta property="og:title" content="Recursive polygons with JavaScript â€¢ Max Halford"><meta property="og:type" content="article"><meta name=description content="I like modern art, I enjoy looking at the stuff that was made at the beginning of the 20th century and thinking how it is still shaping today&rsquo;s style. I&rsquo;m not an expert, it&rsquo;s just a hobby of mine. I especially like the Centre Pompidou in Paris, it&rsquo;s got loads of fascinating stuff. While I was going through the galleries it struck me that some of the paintings were very geometrical."><link rel=stylesheet href=/css/flexboxgrid-6.3.1.min.css><link rel=stylesheet href=/css/github-markdown.min.css><link rel=stylesheet href=/css/highlight/github.css><link rel=stylesheet href=/css/index.css><link rel=preconnect href=https://fonts.gstatic.com><link href="https://fonts.googleapis.com/css2?family=PT+Serif:wght@400;700&family=Permanent+Marker&display=swap" rel=stylesheet><script>MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0,tags:"ams"},options:{skipHtmlTags:["script","noscript","style","textarea","pre"]}},window.addEventListener("load",e=>{document.querySelectorAll("mjx-container").forEach(function(e){e.parentElement.classList+="has-jax"})})</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type=text/javascript id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script></head><body><article class=post id=article><div class="row center-xs" style=text-align:left><div class="col-xs-12 col-sm-10 col-md-7 col-lg-5"><div class=header><header class=header-parts><div class="signatures site-title"><a href=/>Max Halford ðŸ¦”</a></div><div class=header-links><a class=header-link href=/>Blog</a>
<a class=header-link href=/links/>Links</a>
<a class=header-link href=/bio/>Bio</a></div></header></div><header class=post-header><h1 class=post-title>Recursive polygons with JavaScript</h1><div class="row post-desc"><div class="col-xs-12 post-desc-items"><time class=post-date datetime="2016-03-25 00:00:00 UTC">2016-03-25</time>
<span class=posts-line-tag>generative-art</span></div></div></header><div class="post-content markdown-body"><p>I like modern art, I enjoy looking at the stuff that was made at the beginning of the 20th century and thinking how it is still shaping today&rsquo;s style. I&rsquo;m not an expert, it&rsquo;s just a hobby of mine. I especially like the <a href=https://www.centrepompidou.fr/>Centre Pompidou</a> in Paris, it&rsquo;s got loads of fascinating stuff. While I was going through the galleries it struck me that some of the paintings were very geometrical. In fact they were so geometrical that a machine could have produced them! I&rsquo;m not talking about artificial intelligence but rather a set of rules that could be given to a programming language. Through a series of blog posts I would like to try to emulate some works with my computer. I realize it&rsquo;s a waste of time but it&rsquo;s a good opportunity for me to learn some more JavaScript and refreshen my geometry. I also want to insist on making these drawings random, not deterministic.</p><h2 id=the-work>The work</h2><p>In this post I want to render a doodle I like with a program.</p><p><img src=/img/blog/recursive-polygons/doodle.png alt=doodle></p><p>Much like other doodles, it doesn&rsquo;t make much sense except for it&rsquo;s &ldquo;creator&rdquo;. The idea is to draw a convex polygon where each corner is connected slightly to the right/left of the next one. After a few iterations the polygon starts spiraling down and unexplainable satisfaction stirs in me. Try it for yourself!</p><h2 id=the-code>The code</h2><p>The first problem I encountered was how to generate a random convex $n$-sided polygon. At first I coded some rules so that each new side of the polygon defines an interior angle of less than 180 degrees. This proved difficult and not very convincing. My second idea requires an initial step but works wonders.</p><p>The intuition I had was that by picking random points on each side of an $n$-sided polygon and joining them, the resulting polygon would also be $n$-sided and convex. It&rsquo;s a bit hard to explain but it&rsquo;s easy to convince oneself of this &ldquo;conjecture&rdquo;.</p><p><img src=/img/blog/recursive-polygons/convex.png alt=doodle></p><p>The first objective is thus to create a bounding box into which will fit a random polygon. The characteristics of the bounding box don&rsquo;t matter because the polygon that it contains will be defined randomly. The only requirement for the bounding box is that it be $n$-sided.</p><p>My technique is to use the trigonometric circle. To go around the circle you have to go forward $2\pi$ radians. Hence if you create a list of equivalently distributed proportions of $2\pi$ then you have a list of points.</p><p>Because throughout the code I use a lot of geometric points I decided to create a class to make it more readable.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kr>class</span> <span class=nx>Point</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>constructor</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span> <span class=nx>y</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>x</span> <span class=o>=</span> <span class=nx>x</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=p>.</span><span class=nx>y</span> <span class=o>=</span> <span class=nx>y</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>The code for generating a bounding box is not to complicated. To make things more flexible I added parameters so that the trigonometric circle can be an ellipse with a desired width and height.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>createBoundingBox</span><span class=p>(</span><span class=nx>n</span><span class=p>,</span> <span class=nx>width</span><span class=p>,</span> <span class=nx>height</span><span class=p>,</span> <span class=nx>center</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// The bounding box points is generated with the trigonometric circle
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>var</span> <span class=nx>radians</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>n</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>radians</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span> <span class=o>=</span> <span class=p>(</span><span class=nx>i</span> <span class=o>/</span> <span class=nx>n</span><span class=p>)</span> <span class=o>*</span> <span class=p>(</span><span class=mi>2</span> <span class=o>*</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>PI</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Bounding box coordinates
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kd>var</span> <span class=nx>box</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Starting point
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>box</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Point</span><span class=p>(</span><span class=nx>center</span><span class=p>.</span><span class=nx>x</span> <span class=o>+</span> <span class=nx>width</span> <span class=o>*</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>cos</span><span class=p>(</span><span class=nx>radians</span><span class=p>[</span><span class=mi>0</span><span class=p>]),</span> <span class=nx>center</span><span class=p>.</span><span class=nx>y</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Complete the bounding box
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>for</span> <span class=p>(</span><span class=nx>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>n</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>box</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Point</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=nx>box</span><span class=p>[</span><span class=nx>i</span><span class=p>].</span><span class=nx>x</span> <span class=o>=</span> <span class=nx>center</span><span class=p>.</span><span class=nx>x</span> <span class=o>+</span> <span class=nx>width</span> <span class=o>*</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>cos</span><span class=p>(</span><span class=nx>radians</span><span class=p>[</span><span class=nx>i</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>        <span class=nx>box</span><span class=p>[</span><span class=nx>i</span><span class=p>].</span><span class=nx>y</span> <span class=o>=</span> <span class=nx>center</span><span class=p>.</span><span class=nx>y</span> <span class=o>+</span> <span class=nx>height</span> <span class=o>*</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>sin</span><span class=p>(</span><span class=nx>radians</span><span class=p>[</span><span class=nx>i</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>box</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>Next for generating a polygon we simple have to iterate through the sides of the bounding box and pick random points to join.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>createConvexPolygon</span><span class=p>(</span><span class=nx>box</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>var</span> <span class=nx>polygon</span> <span class=o>=</span> <span class=p>[];</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Complete the polygon
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>for</span> <span class=p>(</span><span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=nx>box</span><span class=p>.</span><span class=nx>length</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>polygon</span><span class=p>[</span><span class=nx>i</span><span class=p>]</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Point</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=kd>var</span> <span class=nx>r</span> <span class=o>=</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>random</span><span class=p>();</span>
</span></span><span class=line><span class=cl>        <span class=c1>// Use the modulo operator for cycling through the array
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=nx>polygon</span><span class=p>[</span><span class=nx>i</span><span class=p>].</span><span class=nx>x</span> <span class=o>=</span> <span class=nx>box</span><span class=p>[</span><span class=nx>i</span><span class=p>].</span><span class=nx>x</span> <span class=o>+</span> <span class=nx>r</span> <span class=o>*</span> <span class=p>(</span><span class=nx>box</span><span class=p>[(</span><span class=nx>i</span><span class=o>+</span><span class=mi>1</span><span class=p>)</span> <span class=o>%</span> <span class=nx>box</span><span class=p>.</span><span class=nx>length</span><span class=p>].</span><span class=nx>x</span> <span class=o>-</span> <span class=nx>box</span><span class=p>[</span><span class=nx>i</span><span class=p>].</span><span class=nx>x</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>polygon</span><span class=p>[</span><span class=nx>i</span><span class=p>].</span><span class=nx>y</span> <span class=o>=</span> <span class=nx>box</span><span class=p>[</span><span class=nx>i</span><span class=p>].</span><span class=nx>y</span> <span class=o>+</span> <span class=nx>r</span> <span class=o>*</span> <span class=p>(</span><span class=nx>box</span><span class=p>[(</span><span class=nx>i</span><span class=o>+</span><span class=mi>1</span><span class=p>)</span> <span class=o>%</span> <span class=nx>box</span><span class=p>.</span><span class=nx>length</span><span class=p>].</span><span class=nx>y</span> <span class=o>-</span> <span class=nx>box</span><span class=p>[</span><span class=nx>i</span><span class=p>].</span><span class=nx>y</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>polygon</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>I use the modulo operator so that I can join the last point of the polygon to the first one, it avoids adding another instruction after the loop. It&rsquo;s a bit like using a <a href=https://www.wikiwand.com/en/Linked_list>linked list</a>.</p><p><img src=/img/blog/recursive-polygons/3.png alt=3>
<img src=/img/blog/recursive-polygons/4.png alt=4>
<img src=/img/blog/recursive-polygons/6.png alt=5></p><p>The next step is to draw the outline of the polygon and to start spiraling down. To spiral down, the idea is to choose a random point somewhere in between of the two next points.</p><p><img src=/img/blog/recursive-polygons/proportion.png alt=proportion></p><p>More formally the goal is join each point $p_i$ to a new point in between $p_{i+1}$ and $p_{i+2}$. At each step $i$ we append to the polygon a point such that</p><p>$$
x = r \times (x_{i+2} - x_{i+1}) \
y = r \times (y_{i+2} - y_{i+1}) \
0 &lt; r &lt; 1
$$</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=kd>function</span> <span class=nx>drawPolygon</span><span class=p>(</span><span class=nx>ctx</span><span class=p>,</span> <span class=nx>polygon</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Draw the outline of the polygon
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>ctx</span><span class=p>.</span><span class=nx>moveTo</span><span class=p>(</span><span class=nx>polygon</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=nx>x</span><span class=p>,</span> <span class=nx>polygon</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=nx>y</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=nx>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;=</span> <span class=nx>polygon</span><span class=p>.</span><span class=nx>length</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nx>ctx</span><span class=p>.</span><span class=nx>lineTo</span><span class=p>(</span><span class=nx>polygon</span><span class=p>[</span><span class=nx>i</span> <span class=o>%</span> <span class=nx>polygon</span><span class=p>.</span><span class=nx>length</span><span class=p>].</span><span class=nx>x</span><span class=p>,</span> <span class=nx>polygon</span><span class=p>[</span><span class=nx>i</span> <span class=o>%</span> <span class=nx>polygon</span><span class=p>.</span><span class=nx>length</span><span class=p>].</span><span class=nx>y</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Go to the end of the polygon
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>ctx</span><span class=p>.</span><span class=nx>moveTo</span><span class=p>(</span><span class=nx>polygon</span><span class=p>[</span><span class=nx>polygon</span><span class=p>.</span><span class=nx>length</span><span class=o>-</span><span class=mi>1</span><span class=p>].</span><span class=nx>x</span><span class=p>,</span> <span class=nx>polygon</span><span class=p>[</span><span class=nx>polygon</span><span class=p>.</span><span class=nx>length</span><span class=o>-</span><span class=mi>1</span><span class=p>].</span><span class=nx>y</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Start doodling
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>for</span> <span class=p>(</span><span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=mi>500</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>var</span> <span class=nx>r</span> <span class=o>=</span> <span class=mf>0.1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kd>var</span> <span class=nx>x</span> <span class=o>=</span> <span class=nx>polygon</span><span class=p>[</span><span class=nx>i</span><span class=p>].</span><span class=nx>x</span> <span class=o>+</span> <span class=nx>r</span> <span class=o>*</span> <span class=p>(</span><span class=nx>polygon</span><span class=p>[</span><span class=nx>i</span><span class=o>+</span><span class=mi>1</span><span class=p>].</span><span class=nx>x</span> <span class=o>-</span> <span class=nx>polygon</span><span class=p>[</span><span class=nx>i</span><span class=p>].</span><span class=nx>x</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=kd>var</span> <span class=nx>y</span> <span class=o>=</span> <span class=nx>polygon</span><span class=p>[</span><span class=nx>i</span><span class=p>].</span><span class=nx>y</span> <span class=o>+</span> <span class=nx>r</span> <span class=o>*</span> <span class=p>(</span><span class=nx>polygon</span><span class=p>[</span><span class=nx>i</span><span class=o>+</span><span class=mi>1</span><span class=p>].</span><span class=nx>y</span> <span class=o>-</span> <span class=nx>polygon</span><span class=p>[</span><span class=nx>i</span><span class=p>].</span><span class=nx>y</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>ctx</span><span class=p>.</span><span class=nx>lineTo</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span> <span class=nx>y</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=nx>polygon</span><span class=p>[</span><span class=nx>polygon</span><span class=p>.</span><span class=nx>length</span><span class=p>]</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Point</span><span class=p>(</span><span class=nx>x</span><span class=p>,</span> <span class=nx>y</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Go to the end of the polygon
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=nx>ctx</span><span class=p>.</span><span class=nx>moveTo</span><span class=p>(</span><span class=nx>polygon</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=nx>x</span><span class=p>,</span> <span class=nx>polygon</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=nx>y</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p><img src=/img/blog/recursive-polygons/initial.png alt=initial></p><p>And we&rsquo;re nearly done! I hard coded some polygons so that the rest of the space is filled. I didn&rsquo;t figure out any obvious property to put it into a loop yet.</p><p><img src=/img/blog/recursive-polygons/result.png alt=initial></p><p>The full code is available on <a href=https://github.com/MaxHalford/procedural-art/blob/master/1_recursive_polygons.html>GitHub</a>.</p></div><script type=text/javascript>var s=document.createElement("script");s.setAttribute("src","https://utteranc.es/client.js"),s.setAttribute("repo","MaxHalford/maxhalford.github.io"),s.setAttribute("issue-term","pathname"),s.setAttribute("crossorigin","anonymous"),s.setAttribute("async",null),s.setAttribute("theme","github-light"),document.body.appendChild(s)</script><div style=display:flex;flex-direction:row;justify-content:center;align-items:center;gap:20px;margin-bottom:30px><div class=do-the-thing><div class=elevator><svg class="sweet-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 100 100" enable-background="new 0 0 100 100" height="100" width="100"><path d="M70 47.5H30c-1.4.0-2.5 1.1-2.5 2.5v40c0 1.4 1.1 2.5 2.5 2.5h40c1.4.0 2.5-1.1 2.5-2.5V50C72.5 48.6 71.4 47.5 70 47.5zm-22.5 40h-5v-25h5v25zm10 0h-5v-25h5v25zm10 0h-5V60c0-1.4-1.1-2.5-2.5-2.5H40c-1.4.0-2.5 1.1-2.5 2.5v27.5h-5v-35h35v35z"/><path d="M50 42.5c1.4.0 2.5-1.1 2.5-2.5V16l5.7 5.7c.5.5 1.1.7 1.8.7s1.3-.2 1.8-.7c1-1 1-2.6.0-3.5l-10-10c-1-1-2.6-1-3.5.0l-10 10c-1 1-1 2.6.0 3.5 1 1 2.6 1 3.5.0l5.7-5.7v24c0 1.4 1.1 2.5 2.5 2.5z"/></svg>Back to the top</div></div><iframe src=https://github.com/sponsors/MaxHalford/button title="Sponsor MaxHalford" height=32 width=114 style=border:0;border-radius:6px></iframe></div><script src=https://cdnjs.cloudflare.com/ajax/libs/elevator.js/1.0.1/elevator.min.js></script>
<script>var elementButton=document.querySelector(".elevator"),elevator=new Elevator({element:elementButton,mainAudio:"/music/elevator.mp3",endAudio:"/music/ding.mp3"})</script><style>.down-arrow{font-size:120px;margin-top:90px;margin-bottom:90px;text-shadow:0 -20px #0c1f31,0 0 #c33329;color:transparent;-webkit-transform:scaleY(.8);-moz-transform:scaleY(.8);transform:scaleY(.8)}.elevator{text-align:center;cursor:pointer;width:140px;margin:auto}.elevator:hover{opacity:.7}.elevator svg{width:40px;height:40px;display:block;margin:auto;margin-bottom:5px}</style></div></div></article></body></html>